<Window x:Class="ExcelShSy.Ui.ShopManagerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ExcelShSy.Localization;assembly=ExcelShSy.Localization"
        mc:Ignorable="d"
        Title="{local:Loc ShopManagerWindow.Title}" WindowStartupLocation="CenterScreen" SizeToContent="WidthAndHeight"
        MaxHeight="850" MaxWidth="1200"
        MinHeight="400" MinWidth="600">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="10">
            <Border Background="White" Padding="32 0 0 0" CornerRadius="10" BorderBrush="#ddd" BorderThickness="1" >
                <DockPanel LastChildFill="True" DataContext="{Binding .}">


                    <TextBlock Text="{local:Loc ShopManagerWindow.Header}"
                       FontSize="20" FontWeight="SemiBold"
                       HorizontalAlignment="Center" DockPanel.Dock="Top"/>
                    <ComboBox x:Name="MagazineSelector" BorderThickness="0" FontSize="20" DockPanel.Dock="Top" HorizontalAlignment="Center" SelectionChanged="SelectMagazine_Changed" Margin="0 0 0 24" />

                    <Grid Margin="0,0,0,20" >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Колонка с артикулом -->
                        <StackPanel Grid.Row="0" Grid.Column="0" Margin="0 0 15 15" Grid.ColumnSpan="2">
                            <TextBlock Text="{local:Loc ShopManagerWindow.Article}" HorizontalAlignment="Center" FontWeight="SemiBold"/>
                            <ComboBox ItemsSource="{Binding CurrentShopHeaders}" SelectedItem="{Binding CurrentShop.Article, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" SelectionChanged="IsChanged_Changed" />
                        </StackPanel>

                        <!-- Колонка с ценой -->
                        <StackPanel Grid.Row="1" Grid.Column="0" Margin="0 0 15 15">
                            <TextBlock Text="{local:Loc ShopManagerWindow.Price}" FontWeight="SemiBold"/>
                            <ComboBox ItemsSource="{Binding CurrentShopHeaders}" SelectedItem="{Binding CurrentShop.Price, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" SelectionChanged="IsChanged_Changed"  />
                        </StackPanel>

                        <!-- Колонка с старой ценой -->
                        <StackPanel Grid.Row="1" Grid.Column="1" Margin="0 0 15 15">
                            <TextBlock Text="{local:Loc ShopManagerWindow.OldPrice}" FontWeight="SemiBold"/>
                            <ComboBox ItemsSource="{Binding CurrentShopHeaders}" SelectedItem="{Binding CurrentShop.OldPrice, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" SelectionChanged="IsChanged_Changed" />
                        </StackPanel>

                        <!-- Колонка с количеством -->
                        <StackPanel Grid.Row="2" Grid.Column="1" Margin="0 0 15 15">
                            <TextBlock Text="{local:Loc ShopManagerWindow.Quantity}" FontWeight="SemiBold"/>
                            <ComboBox ItemsSource="{Binding CurrentShopHeaders}" SelectedItem="{Binding CurrentShop.Availability, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" SelectionChanged="IsChanged_Changed"  />
                        </StackPanel>

                        <!-- Колонка с наличием -->
                        <StackPanel Grid.Row="2" Grid.Column="0" Margin="0 0 15 15">
                            <TextBlock Text="{local:Loc ShopManagerWindow.Availability}" FontWeight="SemiBold"/>
                            <ComboBox ItemsSource="{Binding CurrentShopHeaders}" SelectedItem="{Binding CurrentShop.Quantity, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" SelectionChanged="IsChanged_Changed" />
                        </StackPanel>

                        <!-- Колонка с датой начала акции -->
                        <StackPanel Grid.Row="3" Grid.Column="1" Margin="0 0 15 15">
                            <TextBlock Text="{local:Loc ShopManagerWindow.DiscountStart}" FontWeight="SemiBold"/>
                            <ComboBox ItemsSource="{Binding CurrentShopHeaders}" SelectedItem="{Binding CurrentShop.DiscountDateStart, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" SelectionChanged="IsChanged_Changed" />
                        </StackPanel>

                        <!-- Скидка -->
                        <StackPanel Grid.Row="3" Grid.Column="0" Margin="0 0 15 15">
                            <TextBlock Text="{local:Loc ShopManagerWindow.Discount}" FontWeight="SemiBold"/>
                            <ComboBox ItemsSource="{Binding CurrentShopHeaders}" SelectedItem="{Binding CurrentShop.Discount, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" SelectionChanged="IsChanged_Changed" />
                        </StackPanel>

                        <!-- Колонка с датой конца акции -->
                        <StackPanel Grid.Row="4" Grid.Column="1" Margin="0 0 15 15">
                            <TextBlock Text="{local:Loc ShopManagerWindow.DiscountEnd}" FontWeight="SemiBold"/>
                            <ComboBox ItemsSource="{Binding CurrentShopHeaders}" SelectedItem="{Binding CurrentShop.DiscountDateEnd, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" SelectionChanged="IsChanged_Changed" />
                        </StackPanel>

                        <!-- Формат даты -->
                        <StackPanel Grid.Row="4" Grid.Column="0" Margin="0 0 15 15" HorizontalAlignment="Center">
                            <TextBlock Text="{local:Loc ShopManagerWindow.DataFormat}" Grid.Row="6" Grid.Column="0" Margin="0 0 0 6" FontWeight="SemiBold"/>
                            <TextBox Grid.Row="7" Grid.Column="0" HorizontalAlignment="Center" MinWidth="150" Text="{Binding CurrentShop.DataFormat, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" SelectionChanged="IsChanged_Changed" />
                        </StackPanel>

                        <!-- Значение “в наличии” -->
                        <StackPanel Grid.Row="5" Grid.Column="0" Margin="0 0 15 15">
                            <TextBlock Text="{local:Loc ShopManagerWindow.InStock}" FontWeight="SemiBold"/>
                            <TextBox MinWidth="150" Text="{Binding CurrentShop.AvailabilityMap[InStock], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" TextChanged="IsChanged_Changed" />
                        </StackPanel>

                        <!-- Значение “Под заказ” -->
                        <StackPanel Grid.Row="5" Grid.Column="1" Margin="0 0 15 15">
                            <TextBlock Text="{local:Loc ShopManagerWindow.OnOrder}" FontWeight="SemiBold"/>
                            <TextBox MinWidth="150" Text="{Binding CurrentShop.AvailabilityMap[OnOrder], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" TextChanged="IsChanged_Changed" />
                        </StackPanel>

                        <!-- Значение “нет в наличии” -->
                        <StackPanel Grid.Row="6" Grid.Column="0" Margin="0 0 15 15">
                            <TextBlock Text="{local:Loc ShopManagerWindow.OutOfStock}" FontWeight="SemiBold"/>
                            <TextBox MinWidth="150" Text="{Binding CurrentShop.AvailabilityMap[OutOfStock], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" TextChanged="IsChanged_Changed" />
                        </StackPanel>

                        <!-- Значение “Готово к отправке” -->
                        <StackPanel Grid.Row="6" Grid.Column="1" Margin="0 0 15 15">
                            <TextBlock Text="{local:Loc ShopManagerWindow.ReadyToGo}" FontWeight="SemiBold"/>
                            <TextBox MinWidth="150" Text="{Binding CurrentShop.AvailabilityMap[ReadyToGo], Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" TextChanged="IsChanged_Changed" />
                        </StackPanel>

                    </Grid>
                    <GridSplitter Width="1" />
                    <!-- Список всех колонок -->
                    <Border Margin="15 0 20 15" BorderBrush="#cccccc" BorderThickness="1" CornerRadius="5" >
                        <StackPanel Margin="3 3 8 3">
                            <TextBlock Text="{local:Loc ShopManagerWindow.AllColumnList}" FontWeight="SemiBold"/>
                            <ListBox SelectionMode="Extended" MaxHeight="600" BorderThickness="0" Background="Transparent" ItemsSource="{Binding CurrentShopHeaders}" d:ItemsSource="{d:SampleData ItemCount=5}" FontSize="11" />
                        </StackPanel>
                    </Border>
                </DockPanel>
            </Border>
            <Button Content="{local:Loc ShopManagerWindow.Save}" DockPanel.Dock="Bottom" Height="40" Width="140" HorizontalAlignment="Right" Margin="0,10,0,0"
                Background="#0078D7" Foreground="White" FontWeight="SemiBold" BorderThickness="0" Click="SaveShopTemplate_Click" />
        </StackPanel>
    </ScrollViewer>
</Window>
